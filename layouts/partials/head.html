{{ $title := print .Site.Title " | " .Title }}
{{ if .IsHome }}{{ $title = .Site.Title }}{{ end }}

<title>{{ $title }}</title>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

{{ partial "head/favicon" . }}
{{ partial "head/meta" . }}

{{ if .Site.Params.styles }}
{{ $styles := .Site.Params.styles }}
{{ partial "head/style" (dict "path" $styles.theme "build" $styles.build) }}
{{ range .Site.Params.styles.extra }}{{ partial "head/style" (dict "path" . "build" $styles.build) }}{{ end }}
{{ end }}

<script>
    // On page load or when changing themes, best to add inline in `head` to avoid FOUC
    if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
    } else {
        document.documentElement.classList.remove('dark')
    }
</script>

